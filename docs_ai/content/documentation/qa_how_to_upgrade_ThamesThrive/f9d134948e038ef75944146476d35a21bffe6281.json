{"file_name": "docs/qa/how_to_upgrade_ThamesThrive.md", "questions": ["1. How to upgrade ThamesThrive core?", "2. What are the steps to perform a minor upgrade in ThamesThrive?", "3. How can you perform a major upgrade in ThamesThrive and what is the process involved?", "4. How does ThamesThrive handle data migration during major upgrades?", "5. How can you upgrade ThamesThrive in the GUI?", "6. How does ThamesThrive manage data backups and what options are available for backups?", "7. What infra dependencies does ThamesThrive have for multi-tenant mode?"], "answer": "# How to upgrade ThamesThrive core?\nTo upgrade ThamesThrive, you can follow the following steps:\n\n1. **Minor Upgrades**: For minor upgrades that do not involve changes in the underlying database structure, you can\n   simply upgrade the Docker tag to the new version. This can be done by changing the version number in the Docker tag.\n\n2. **Major Upgrades**: Major upgrades involve changes in the database structure. In ThamesThrive, data migration is\n   performed using Elasticsearch's reindexing process. To perform a major upgrade, you would need to run two copies of\n   the system with separate sets of indices: one with the old version and one with the new version. Once the migration\n   is complete, you can upgrade the Docker tag to the new version, and the system will switch to the new version\n   automatically.\n\nIt's important to note that ThamesThrive provides migration scripts for all major versions, allowing for smooth upgrades.\nHowever, these scripts are only available from one version to the next, so it's recommended to follow the upgrade path\nversion by version for proper data migration and system stability. Skipping versions is not supported, and custom\nscripts may require additional effort and commercial services.\n\nIn a multi-tenant instance of ThamesThrive, the upgrade process is applied uniformly to all tenants. This means that when\nperforming an upgrade, the changes will be applied to all the tenants in the system. In the case of a major upgrade\ninvolving data structure changes, the data migration process needs to be performed for all tenants to ensure their data\naligns with the updated database structure.\n\nTo upgrade ThamesThrive in the GUI, you can navigate to the maintenance/migration page and locate the migration script for\nthe old version. Follow the instructions provided in the script to complete the data migration. This feature is\navailable in ThamesThrive version 0.7.2 and higher. If you're using an older version, you will need to upgrade to at least\nversion 0.7.2 to access this functionality.\n\nPlease note that ThamesThrive does not manage or install Kubernetes (K8s). ThamesThrive can help with the installation of\nThamesThrive itself, but the installation of Elasticsearch and Redis needs to be performed by you.\n\nRegarding data backups, ThamesThrive uses Elasticsearch's built-in backup mechanism. Backups are created and stored in\nsnapshot repositories, which can be a shared file system, a cloud storage service, or a network-attached storage (NAS).\nYou can define a snapshot lifecycle policy to specify backup frequency and retention. Elasticsearch performs incremental\nbackups, reducing backup time and storage requirements. The Snapshot and Restore API allows you to manage backups,\nincluding creating, listing, restoring, and deleting snapshots. Elasticsearch also provides options for disaster\nrecovery, allowing you to restore snapshots in case of data loss.\n\nRegarding the infra dependencies, ThamesThrive requires a commercial version of the ThamesThrive API Docker for multi-tenant\nmode. To start ThamesThrive in multi-tenant mode, you need to set the MULTI_TENANT environment variable to \"yes\" in the\nDocker configuration. Additionally, you need to configure the Tenant Management Service (TMS) by providing the\nMULTI_TENANT_MANAGER_URL (the URL of the TMS) and MULTI_TENANT_MANAGER_API_KEY (API key for authentication and\nauthorization between ThamesThrive and the TMS).\n\nFor specific details and instructions, it's recommended to consult the ThamesThrive documentation or contact their support\nfor accurate and up-to-date information on upgrading ThamesThrive and managing the multi-tenant environment.\n", "hash": "f9d134948e038ef75944146476d35a21bffe6281"}
