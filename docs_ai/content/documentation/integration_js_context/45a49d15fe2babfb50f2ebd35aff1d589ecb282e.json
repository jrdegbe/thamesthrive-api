{"file_name": "docs/integration/js/context.md", "questions": ["}", "  }", "}", "```", "What is the scope of context data that can be used in ThamesThrive?"], "answer": "# Tracker context\nEvent context in ThamesThrive allows you to extend the information about the __events__ by defining the scope of context data.\nThis context data can be used to pass additional information, such as browser metadata, system variables, etc.\n\n!!! Caution\n\n    When working with events context in ThamesThrive, it's important to understand that the context data refers to all \n    tracker events within a session, rather than a single event. The context data is saved in the session when it is \n    created and remains constant throughout the session, as data such as browser type or system used typically \n    does not change during a visitor's session on a website.\n\n    However, it's worth noting that some context data, such as the page URL, may change from event to event within a \n    session. This dynamic data is sent in the event context, allowing you to capture and utilize it in your \n    workflows accordingly. Althouhg It is configured on the tracker level it will be attached to each event.\n\nConfiguration can be extended with *context* parameter, where you may define the scope of context data.\n\n```javascript title=\"Example\" linenums=\"1\" hl_lines=\"10-16\"\n    const options = {\n      tracker: {\n        url: {\n            script: 'http://localhost:8686/tracker',\n            api: 'http://localhost:8686'\n        },\n        source: {\n            id: \"3ee63fc6-490a-4fd8-bfb3-bf0c8c8d3387\"\n        },\n        context: {\n            browser: true,\n            page: true,\n            session: false,\n            storage:true,\n            screen: true,\n            performance: false\n        }\n    }\n}\n```\n\nBy default, the following session context data will be sent to ThamesThrive:\n\n```json title=\"Example\" linenums=\"1\"\n{\n  \"context\": {\n    \"time\": {\n      \"local\": \"12/8/2021, 12:50:55 AM\",\n      \"tz\": \"Europe/Warsaw\"\n    },\n    \"browser\": {\n      \"local\": {\n        \"browser\": {\n          \"name\": \"Netscape\",\n          \"engine\": \"Gecko\",\n          \"appVersion\": \"5.0 (X11)\",\n          \"userAgent\": \"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:94.0) Gecko/20100101 Firefox/94.0\",\n          \"language\": \"en-US\",\n          \"onLine\": true,\n          \"javaEnabled\": false,\n          \"cookieEnabled\": true\n        },\n        \"device\": {\n          \"platform\": \"Linux x86_64\"\n        }\n      }\n    },\n    \"screen\": {\n      \"local\": {\n        \"width\": 1835,\n        \"height\": 1032,\n        \"innerWidth\": 1835,\n        \"innerHeight\": 928,\n        \"availWidth\": 1835,\n        \"availHeight\": 1013,\n        \"colorDepth\": 24,\n        \"pixelDepth\": 24\n      }\n    }\n  }\n}\n```\n\nIt consists of browser data, screen data and page data. It can be extended with cookies and local storage data.\nStorage (localStorage) and session data is by default excluded. You can change it by explicitly flagging storage:true in\nthe context configuration.\n\n!!! Caution\n\n    Sending cookies and localStorage data can lead to data explosion in ThamesThrive database. Each customer may have\n    different cookies and local data that will lead to the 1000 fields per record limit in elastic. This will stop writing\n    new sessions to the system.\n\n### Event performance metrics\n\nIf you set `tracker.context.performance` to TRUE in tracker context configuration the result from __window.performance.getEntriesByType(\"\nnavigation\")__ will be sent as event context.\n\n```json title=\"Example of event context\"\n{\n  \"context\": {\n    \"performance\": {\n      \"name\": \"http://localhost:63343/analytics-js-ThamesThrive/index.html\",\n      \"entryType\": \"navigation\",\n      \"startTime\": 0,\n      \"duration\": 0,\n      \"initiatorType\": \"navigation\",\n      \"nextHopProtocol\": \"http/1.1\",\n      \"workerStart\": 0,\n      \"redirectStart\": 0,\n      \"redirectEnd\": 0,\n      \"fetchStart\": 20,\n      \"domainLookupStart\": 101,\n      \"domainLookupEnd\": 101,\n      \"connectStart\": 101,\n      \"connectEnd\": 102,\n      \"secureConnectionStart\": 0,\n      \"requestStart\": 102,\n      \"responseStart\": 102,\n      \"responseEnd\": 102,\n      \"transferSize\": 9394,\n     "}
